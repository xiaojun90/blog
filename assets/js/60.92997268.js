(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{186:function(s,t,a){"use strict";a.r(t);var l=a(0),e=Object(l.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"linux下如何解决jvm执行取得的时间和系统时间不一致的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux下如何解决jvm执行取得的时间和系统时间不一致的问题","aria-hidden":"true"}},[s._v("#")]),s._v(" linux下如何解决jvm执行取得的时间和系统时间不一致的问题")]),s._v(" "),a("p",[s._v("在查看日志的发现，打印出来的日志时间与当前linux的时间不一致，用new Date()打印出来的时间了发现是EST时间，而Linux机器的时间是CST时间(中国标准时间)，所以是JVM与linux的时间不一致导致的。")]),s._v(" "),a("p",[s._v("解决方法有三种：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("在代码中增加时区")])]),s._v(" "),a("li",[a("p",[s._v("java执行时增加参数-Duser.timezone=GMT+8")])]),s._v(" "),a("li",[a("p",[s._v("调整系统的时区")]),s._v(" "),a("ol",[a("li",[s._v("修改/etc/sysconfig/clock文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('vim /etc/sysconfig/clock   #编辑时间配置文件\nZONE="Asia/Shanghai"\nUTC=false                   #设置为false，硬件时钟不于utc时间一致\nARC=false    \n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("设置etc/localhost")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("unlink /etc/localtime \nln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime  #linux的时区设置为上海时区\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("ntpdate cn.pool.ntp.org    #对准时间")]),s._v(" "),a("li",[s._v("/sbin/hwclock --systohc   #设置硬件时间和系统时间一致并校准")]),s._v(" "),a("li",[s._v("设置完成后，重新启动java")])])])]),s._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("实际上我在linux上执行date命令的时候发现已经是东八区的时间了，此时其实只要执行第三种方法中的第二步即可，就是初始化/etc/localtime ，然后将东八区的绑定上。")])]),s._v(" "),a("Valine")],1)},[],!1,null,null,null);t.default=e.exports}}]);